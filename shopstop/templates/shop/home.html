{% load bootstrap5 %}
{% load static %}
{% bootstrap_css %}
{% bootstrap_javascript %}
<!DOCTYPE html>
<html>
  <head>
    <title>Stop Shop</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <link rel="stylesheet" type="text/css" href="{% static 'css/new_style.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/nav-style.css' %}">
    <link href="{% static 'fontawesomefree/css/fontawesome.css' %}" rel="stylesheet" type="text/css">
    <link href="{% static 'fontawesomefree/css/brands.css' %}" rel="stylesheet" type="text/css">
    <link href="{% static 'fontawesomefree/css/solid.css' %}" rel="stylesheet" type="text/css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jost:wght@300;400;500&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
    <!-- script ================================================== -->
    <script>
      var user = '{{request.user}}'

      function getCookie(name) {
      let cookieValue = null;
      if (document.cookie && document.cookie !== '') {
          const cookies = document.cookie.split(';');
          for (let i = 0; i < cookies.length; i++) {
              const cookie = cookies[i].trim();
              // Does this cookie string begin with the name we want?
              if (cookie.substring(0, name.length + 1) === (name + '=')) {
                  cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                  break;
              }
          }
      }
      return cookieValue;
      }
      const csrftoken = getCookie('csrftoken');
    </script>
    
  </head>
  <body data-bs-spy="scroll" data-bs-theme="dark" data-bs-target="#navbar" data-bs-root-margin="0px 0px -40%" data-bs-smooth-scroll="true" tabindex="0">
    
    <header class="site-header position-fixed ">
      {% include 'shop/base/shopbar.html' %}
    </header>
    <br><br><br><br>
    <div class="display-4 text-light">
      Welcome to Stop Shop!
    </div>
    <section id="billboard">
      
      
      <div class="container">
        <div class="d-flex display-3 text-light align-items-center justify-content-center">
          Products
        </div>
        
        <div class="row d-flex flex-wrap align-items-center mt-5">
          
          {% for item in items %}
          <div class="col pb-3 ">
          <div class="card2">
            <a href="{% url 'shop:prod-detail' item.id %}"><img class="card2-img" src="{{item.photos.url}}" alt="null"></a>
            <div class="card2-info">
              <p class="text-title">{{item.item_name}} </p>
              <p class="text-body">Product description and details</p>
            </div>
            <div class="card2-footer">
            <span class="text-title"><strong>${{item.price}}</strong></span>
            <button class="update-cart" data-product="{{item.id}}" data-action="add" style="border:none ; background-color: transparent;">
              <div class="card2-button " data-product="{{item.id}}" data-action="add">
                <i class="fa-solid fa-cart-shopping"></i>
              </div>
            </button>
          </div></div></div>
          {% endfor %}
        </div>
      </div>
      
      
    </section>
    <section id="company-services" class="padding-large">
      <div class="container">
        <div class="d-flex display-3 text-light align-items-center justify-content-center">
          Services
        </div>
        
        <div class="d-flex flex-row justify-content-evenly">
        {% for service in services %}
        <div class="col pb-3 ">
          <div class="card2">
            <a href=""><img class="card2-img" src="{{service.picture.url}}" alt="{{service.service_name}}"></a>
            <div class="card2-info">
              <p class="text-title">{{service.service_name}} </p>
              <p class="text-body">Product description and details</p>
            </div>
            <div class="card2-footer">
            <span class="text-title "><strong>${{service.price}}</strong></span>
            <div class="card2-button update-cart" >
              <i class="fa-solid fa-cart-shopping"></i>
            </div>
          </div></div></div>
        {% endfor  %}
        </div>
      </div>
    </section>
    
    
    
    <script>
      var user = '{{request.user}}'
    </script>
    <script  src="{% static 'js/script.js' %}"></script>
    <script  src="{% static 'js/nav.js' %}"></script>
    <script  src="{% static 'js/cart.js' %}"></script>
    <script src='https://unpkg.co/gsap@3/dist/gsap.min.js'></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  </body>
</html>